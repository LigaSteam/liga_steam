<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Show do Milh√£o - Tut√≥ia/MA</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background-image: url("https://dynamic-media-cdn.tripadvisor.com/media/photo-o/2f/aa/74/a0/caption.jpg?w=1100&h=1100&s=1");
      background-size: cover;
      background-position: center;
      background-repeat: no-repeat;
      background-attachment: fixed;
      color: white;
      text-align: center;
      padding: 20px;
      min-height: 100vh;
    }

    /* Containers */
    #game, #menu {
      max-width: 700px;
      margin: 50px auto;
      background: rgba(0,0,0,0.7);
      padding: 20px;
      border-radius: 15px;
    }

    /* Menu principal com background leve transparente para legibilidade */
    #menu {
      background: rgba(0,0,0,0.35);
      box-shadow: none;
    }

    #menu h1, #menu p, #menu button {
      background-color: rgba(0, 0, 0, 0.5);
      padding: 10px;
      border-radius: 8px;
      margin-bottom: 10px;
      display: block;
    }

    /* Frase menor colocada abaixo do menu principal (fora do #menu) */
    #menuFooterPhrase {
      font-size: 11px; /* diminu√≠ mais conforme solicitado */
      font-style: italic;
      background: rgba(0, 0, 0, 0.4);
      padding: 8px;
      border-radius: 6px;
      margin: 12px auto 0;
      max-width: 700px;
      color: #ffffff;
      display: inline-block;
    }

    img {
      max-width: 100%;
      border-radius: 12px;
      margin-bottom: 15px;
    }

    button {
      display: block;
      width: 100%;
      margin: 10px 0;
      padding: 10px;
      font-size: 18px;
      border-radius: 8px;
      cursor: pointer;
      border: none;
    }

    .lifeline { background: #FFDC00; color: black; font-weight: bold; }
    .play { background: #0074D9; color: white; font-weight: bold; font-size: 22px; }
    .restart { background: #FF851B; color: white; font-weight: bold; font-size: 20px; }

    /* Opcional: ajuste dos bot√µes de op√ß√£o para melhorar legibilidade */
    #options button {
      text-align: left;
      padding-left: 16px;
    }
  </style>
</head>
<body>
  <!-- Menu Principal -->
  <div id="menu">
    <h1>üéÆ Show do Milh√£o - Tut√≥ia/MA üéâ</h1>
    <p>Teste seus conhecimentos sobre a hist√≥ria e cultura de Tut√≥ia!</p>
    <button class="play" onclick="startGame()">‚ñ∂ Jogar</button>
  </div>

  <!-- Frase solicitada colocada embaixo do menu principal (fora da caixa do menu) -->
  <p id="menuFooterPhrase">Um jogo idealizado pela turma 204(ADM) do IEMA Pleno Casemiro de Abreu/Tut√≥ia. 2025</p>

  <!-- √Årea do jogo -->
  <div id="game" style="display:none;">
    <h1>Show do Milh√£o/Tut√≥ia - MA</h1>
    <img id="questionImg" src="" alt="Imagem da quest√£o" />
    <p id="question"></p>
    <div id="options"></div>
    <p id="timer"></p>
    <p id="prize"></p>

    <div>
      <button class="lifeline" onclick="use5050()">50:50</button>
      <button class="lifeline" onclick="skipQuestion()">Pular</button>
      <button class="lifeline" onclick="askAudience()">Plateia</button>
    </div>

    <div id="endGame" style="display:none; margin-top:20px;">
      <button class="restart" onclick="goToMenu()">üîÑ Reiniciar</button>
    </div>
  </div>

  <!-- Sons (aten√ß√£o: alguns links externos podem n√£o ser arquivos diretos .mp3; substitua se desejar) -->
  <audio id="menuMusic" src="https://www.myinstants.com/pt/instant/weird-johnny-studio-hero-tale-15286/" loop preload="auto"></audio>
  <audio id="correctSound" src="https://www.myinstants.com/media/sounds/certa-resposta-show-do-milhao.mp3" preload="auto"></audio>
  <audio id="wrongSound" src="https://www.myinstants.com/media/sounds/silvio-santos-resposta-errada.mp3" preload="auto"></audio>
  <audio id="introSound" src="https://www.myinstants.com/media/sounds/vinheta-show-do-milhao.mp3" preload="auto"></audio>

  <script>
    // ---------------- PERGUNTAS ----------------
    const originalQuestions = [
      { q: "Qual o ano em que o Porto de Salinas que se localizava na regi√£o da cidade de Tut√≥ia/MA foi criado:", options: ["1901","1946","1879","1822"], answer: 3, img: "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSpdbWONV5_e7pYIeNQRGFjjldsAWekYFBqSAeMu1zdNI82kilTXBmVyhA&s=10px" },
      { q: "Qual o nome do coronel que √© conhecido como fundador da cidade de Tut√≥ia/MA ?", options: ["Ant√¥nio Jos√© das Neves","Paulino Gomes Neves","Sabino Concei√ß√£o","Franklin Gomes Veras"], answer: 1, img: "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTClEd0Q_ef4t7HC-5hLDwMV1ljFBF4eIWppw&s" },
      { q: "Qual a import√¢ncia do Porto de Tut√≥ia no passado?", options: ["era usado apenas para pesca local","servia como ponto de troca de mercadorias e escoamento da produ√ß√£o","foi constru√≠do apenas para turismo","n√£o teve import√¢ncia hist√≥rica"], answer: 1, img: "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQlEgwLEoROZP2_bCutzKLCOd-LYxiiazvSMOxmHbbE19qCmEcPBJGbKzA&s=10" },
      { q: "Como os ind√≠genas influenciaram a hist√≥ria de Tut√≥ia?", options: ["com sua cultura, costumes e presen√ßa na forma√ß√£o da cidade","apenas como trabalhadores rurais no per√≠odo colonial","N√£o tiveram influ√™ncia na regi√£o","apenas ajudaram na constru√ß√£o do porto"], answer: 0, img: "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRV4lDQHOF-IrnQKd7mVdR4reWUSIHk_9NdK6-bWyk4QyIcbHz97pEYyMc&s=10" },
      { q: "Tut√≥ia √© conhecida por suas belezas naturais. Qual √© uma das principais atra√ß√µes tur√≠sticas da regi√£o?", options: ["Chapada das Mesas","pequenos len√ß√≥is","Parque Nacional da Serra da Capivara","Floresta Amaz√¥nica"], answer: 1, img: "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQsjhen6goeLkFDLUgqyOuCQt39Nh4VaAV6D5uSQcWHMpN9fHxGsOcmiT4X&s=10" },
      { q: "Dentre as atividades econ√¥micas citadas a seguir, qual a predominante em Tut√≥ia atualmente?", options: ["Ind√∫stria","Agricultura","Turismo","Com√©rcio"], answer: 2, img: "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQp3EBtvBy6Om2IYtzILIsUGw86I0XmwfYCSp_gnQ2J-uoQu9d6_SS5XH1a&s=10" },
      { q: "Em que ano Tut√≥ia adquiriu foros de cidade?", options: ["em 1933","em 1500","em 1938","em 2021"], answer: 2, img: "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcS3vYBvGLKV9l2ca4YQ672kYbp7YHPoZSegtYdhhs2wd6cAyRxNzL1n6Bo&s=10" },
      { q: "Onde foi a primeira sede da cidade de Tut√≥ia?", options: ["Povoado de Porto Salinas","Povoado Tut√≥ia antiga","Povoado comum","Povoado Tutoia"], answer: 0, img: "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQMuy7d4IlOn6qR_mHWwFWFYGyYETAwg1Tlk_A8tL8mr0S0tgP1vxLyoGyW&s=10" },
      { q: "Segundo o IBGE, qual era a estimativa da popula√ß√£o de Tut√≥ia no ano de 2022?", options: ["32.459 habitantes","53.356 habitantes","47.294 habitantes","55076 habitantes"], answer: 1, img: "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTgm5zjafRu3oANdVnm2_u2V3Ay_ndzGcXBW4uv5ebbvtCjgUEtrwuKbJZH&s=10" },
      { q: "Qual povo ind√≠gena √© considerado um dos primeiros habitantes da regi√£o de Tut√≥ia?", options: ["Tupinamb√°s","Timbiras","Guajajaras","Trememb√©s"], answer: 3, img: "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcT5KibOO3Mxxrz5K8TgHqwuDonA92Tu4UmjB5RvTIcAyYU47Y4heoUYZOzX&s=10" },
      { q: "Qual manifesta√ß√£o cultural √© tradicionalmente celebrada em Tut√≥ia?", options: ["Carnaval de Olinda","Dan√ßa do Caro√ßo","Festa do Divino Pai Eterno","Congada Mineira"], answer: 1, img: "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRoM48dBsKEsZBjBvrqFENLTCdCOuNcuh39Iwvh7qLtP7YIpngROUDOmAA&s=10" },
      { q: "Qual das praias citadas a seguir pertence ao litoral de Tut√≥ia?", options: ["Praia da Barra","Praia do Futuro","Praia do Barro Vermelho","Praia dos Carneiros"], answer: 0, img: "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcROBRYIb4Q5U0PuqlR7x5In7O03J1UrWtWC0w&usqp=CAU" },
      { q: "Qual desses povoados pertence ao munic√≠pio de Tut√≥ia?", options: ["Buriti dos Lopes","Vista alegre","Santo Ant√¥nio","Paulino Neves"], answer: 2, img: "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQR3hZ8M8N8fbsNDRT34Wk6R_EGQwJMlQigtA&s" },
      { q: "Qual o principal bioma encontrado na regi√£o da cidade de Tut√≥ia?", options: ["Cerrado","Caatinga","Amaz√¥nia","Manguezal e restinga"], answer: 3, img: "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTUcIBevTFq8G4G-BTFqDG44BlX3MYmUdsrEDahtf7WSRnGt_qeb4fiMtR1&s=10" },
      { q: "Qual a origem do povo que formou a nova Tut√≥ia?", options: ["Parna√≠ba","Chapadinha","Tut√≥ia Velha","S√£o Lu√≠s"], answer: 2, img: "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSFrUniZ2uL0cY33F0Azqs0ZxKroy3FkC_ANbj7jVT5eJbffyZ1IyYnTYuR&s=10" },
      { q: "Na √©poca da funda√ß√£o da cidade de Tut√≥ia, qual era a principal atividade econ√¥mica?", options: ["Com√©rcio","Pescaria e ro√ßa","Ind√∫stria","Turismo"], answer: 1, img: "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSzASfNHmRC_4mXNyvD3FcxhBa-5XFU37vSoZsum1HXKhtKlrbsOQDzwv4&s=10" },
      { q: "De que material eram feitas as casas das pessoas consideradas ricas na √©poca da funda√ß√£o de Tut√≥ia?", options: ["Madeira","Palha","Tijolo de alvenaria","Tijolo de barro"], answer: 3, img: "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTmuCB9-4iG5xz26ICsrSDqcgZqVOPQ0uDF3HnmHGPrsRh2ruT_rz6iP_k&s=10" },
      { q: "Quantas ilhas formam o arquip√©lago de Tut√≥ia aproximadamente?", options: ["5","15","20","Mais de 30"], answer: 3, img: "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRM_09T1AVYEycAfyvowRQ_Qm5i-3yUP9n3e1yhGsOtoXJVOEe7DvFGhrFm&s=10" },
      { q: "Em qual per√≠odo do ano as lagoas de Tut√≥ia ficam mais cheias e bonitas?", options: ["Junho a setembro","Outubro a dezembro","Janeiro a mar√ßo","Abril a maio"], answer: 2, img: "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQnlFYv7101Otr9QKLwV9flK53m6qrjxjehLyJfT_sccw171AXKz_PNt70Y&s=10" },
      { q: "Qual patrim√¥nio hist√≥rico √© um s√≠mbolo da cidade de Tut√≥ia?", options: ["Teatro Arthur Azevedo","Forte de S√£o Jos√© de Ribamar","Igreja Matriz de Nossa Senhora da Concei√ß√£o","Pal√°cio dos Le√µes"], answer: 2, img: "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTKQi8ypv8y0T-wkf_DSna5PkkjoR-U-dGDFDK2ggtH6vL61CHnYL3lEfk&s=10" }
    ];

    // Estado do jogo
    let questions = [];
    let currentQuestion = 0;
    let timer = null;
    let timeLeft = 30;
    let lastPrizeIndex = -1;

    const prizes = [
      "R$ 1.000","R$ 2.000","R$ 5.000","R$ 10.000","R$ 20.000",
      "R$ 50.000","R$ 100.000","R$ 200.000","R$ 300.000","R$ 400.000",
      "R$ 500.000","R$ 550.000","R$ 600.000","R$ 650.000","R$ 700.000",
      "R$ 750.000","R$ 800.000","R$ 850.000","R$ 900.000","R$ 1.000.000"
    ];

    // Elementos DOM
    const qElement = document.getElementById("question");
    const imgElement = document.getElementById("questionImg");
    const optionsElement = document.getElementById("options");
    const timerElement = document.getElementById("timer");
    const prizeElement = document.getElementById("prize");
    const endGameElement = document.getElementById("endGame");

    const menuMusic = document.getElementById("menuMusic");
    const correctSound = document.getElementById("correctSound");
    const wrongSound = document.getElementById("wrongSound");
    const introSound = document.getElementById("introSound");

    // Embaralhar (Fisher-Yates)
    function shuffleArray(array) {
      const a = [...array];
      for (let i = a.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [a[i], a[j]] = [a[j], a[i]];
      }
      return a;
    }

    // Permite iniciar m√∫sica no menu ap√≥s clique do usu√°rio (pol√≠ticas de autoplay)
    document.addEventListener("click", () => {
      if (menuMusic.paused && document.getElementById("menu").style.display !== "none") {
        menuMusic.play().catch(()=>{/* ignore */});
      }
    });

    function startGame() {
      document.getElementById("menu").style.display = "none";
      document.getElementById("game").style.display = "block";
      endGameElement.style.display = "none";

      // reset
      clearInterval(timer);
      currentQuestion = 0;
      lastPrizeIndex = -1;
      questions = shuffleArray(originalQuestions);

      // Pausa m√∫sica do menu
      try { menuMusic.pause(); } catch(e){}

      showQuestion();
    }

    function goToMenu() {
      document.getElementById("menu").style.display = "block";
      document.getElementById("game").style.display = "none";
      endGameElement.style.display = "none";
      clearInterval(timer);
      // tenta tocar a m√∫sica do menu novamente
      menuMusic.play().catch(()=>{/* autoplay pode estar bloqueado at√© o pr√≥ximo clique */});
    }

    function showQuestion() {
      clearInterval(timer);

      if (currentQuestion >= questions.length) {
        qElement.textContent = "üéâ Parab√©ns! Voc√™ completou o jogo!!";
        imgElement.src = "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRmPoc8I8Gix4CvhfSpOJ7CeVWmZHnytzs1g6FnsNecCHECKGWBVduygixk&s=10";
        optionsElement.innerHTML = "Agora voc√™ sabe um pouco das belezas e hist√≥rias de Tut√≥ia üëèüèºüëèüèº";
        prizeElement.textContent = "Pr√™mio final: " + (prizes[lastPrizeIndex] || "‚Äî");
        endGameElement.style.display = "block";
        return;
      }

      try { introSound.currentTime = 0; introSound.play().catch(()=>{}); } catch(e){}

      const q = questions[currentQuestion];
      qElement.textContent = q.q;
      imgElement.src = q.img || "";
      optionsElement.innerHTML = "";

      // gera bot√µes de op√ß√£o
      q.options.forEach((opt, i) => {
        const btn = document.createElement("button");
        btn.textContent = opt;
        btn.dataset.index = i;
        btn.onclick = () => {
          // previne m√∫ltiplos cliques r√°pidos
          if (btn.disabled) return;
          // desabilita todas imediatamente (evita respostas m√∫ltiplas)
          optionsElement.querySelectorAll("button").forEach(b => b.disabled = true);
          checkAnswer(i);
        };
        optionsElement.appendChild(btn);
      });

      // timer
      timeLeft = 30;
      timerElement.textContent = "Tempo: " + timeLeft + "s";
      timer = setInterval(() => {
        timeLeft--;
        timerElement.textContent = "Tempo: " + timeLeft + "s";
        if (timeLeft <= 0) {
          clearInterval(timer);
          try { wrongSound.currentTime = 0; wrongSound.play().catch(()=>{}); } catch(e){}
          qElement.textContent = "‚è∞ Tempo esgotado! Voc√™ ganhou: " + (prizes[lastPrizeIndex] || "nada");
          optionsElement.innerHTML = "";
          endGameElement.style.display = "block";
        }
      }, 1000);

      prizeElement.textContent = "Pr√™mio atual: " + (prizes[currentQuestion] || "");
    }

    function checkAnswer(i) {
      clearInterval(timer);
      const q = questions[currentQuestion];

      if (i === q.answer) {
        try { correctSound.currentTime = 0; correctSound.play().catch(()=>{}); } catch(e){}
        // atualiza √∫ltimo pr√™mio garantido (antes de avan√ßar)
        lastPrizeIndex = currentQuestion;
        currentQuestion++;
        // mostra a pr√≥xima ap√≥s pequena pausa para som
        setTimeout(showQuestion, 900);
      } else {
        try { wrongSound.currentTime = 0; wrongSound.play().catch(()=>{}); } catch(e){}
        qElement.textContent = "‚ùå Resposta errada! Voc√™ ganhou: " + (prizes[lastPrizeIndex] || "nada");
        optionsElement.innerHTML = "";
        endGameElement.style.display = "block";
      }
    }

    function use5050() {
      const q = questions[currentQuestion];
      const buttons = Array.from(optionsElement.querySelectorAll("button"));
      if (!buttons.length) return;

      // lista dos √≠ndices errados
      const wrongIndexes = buttons.map((b, idx) => +b.dataset.index).filter(idx => idx !== q.answer);

      // embaralha e remove at√© sobrar apenas 1 errado + o correto (remove 2 errados)
      for (let removed = 0; removed < 2 && wrongIndexes.length > 0; removed++) {
        const idxToRemove = wrongIndexes.splice(Math.floor(Math.random() * wrongIndexes.length), 1)[0];
        const btn = buttons.find(b => +b.dataset.index === idxToRemove);
        if (btn) btn.style.display = "none";
      }
    }

    function skipQuestion() {
      // pular simplesmente avan√ßa sem alterar lastPrizeIndex (o jogador n√£o ganha o pr√™mio desta pergunta)
      clearInterval(timer);
      currentQuestion++;
      showQuestion();
    }

    function askAudience() {
      const q = questions[currentQuestion];
      const buttons = Array.from(optionsElement.querySelectorAll("button"));
      if (!buttons.length) return;

      // Gera uma distribui√ß√£o de porcentagens favorecendo a resposta correta
      const correctIndex = q.answer;
      const percentages = new Array(buttons.length).fill(0);

      const correctPct = Math.floor(Math.random() * 31) + 40; // 40..70
      percentages[correctIndex] = correctPct;

      let remaining = 100 - correctPct;
      const otherIdx = buttons.map(b => +b.dataset.index).filter(i => i !== correctIndex);

      // distribui o restante de forma aleat√≥ria entre os demais
      for (let i = 0; i < otherIdx.length; i++) {
        if (i === otherIdx.length - 1) {
          percentages[otherIdx[i]] = remaining;
        } else {
          const p = Math.floor(Math.random() * (remaining + 1));
          percentages[otherIdx[i]] = p;
          remaining -= p;
        }
      }

      // mensagem amig√°vel para o jogador
      let message = "üìä Plateia votou:\n\n";
      buttons.forEach((btn) => {
        const idx = +btn.dataset.index;
        message += `${idx + 1}: ${percentages[idx]}%\n`;
      });

      alert(message);
    }
  </script>
</body>
</html>